!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=41)}([function(t,e,r){"use strict";function n(t){var e;return(e=t.key,document.documentElement.style.getPropertyValue(e)!=t.val)&&(document.documentElement.style.setProperty(t.key,t.val),!0)}function o(t){var e=(new UAParser).getResult();if(!e||!e.browser||!e.browser.name||"edge"==e.browser.name.toLowerCase()){var r=document.createElement("span");r.style.opacity="0",r.style.position="fixed",t.appendChild(r)}}function i(t){var e=/^\s*$/;t.querySelectorAll("ruby").forEach(function(t){t.childNodes.forEach(function(r){r.nodeType==Node.TEXT_NODE&&r.nodeValue&&e.test(r.nodeValue)&&t.removeChild(r)})})}function a(t){var e=(new UAParser).getResult();e&&e.browser&&e.device&&e.browser.name&&"chrome"==e.browser.name.toLowerCase()&&"mobile"!=e.device.type&&t.classList.add("custom_ruby")}r.d(e,"h",function(){return n}),r.d(e,"a",function(){return o}),r.d(e,"b",function(){return i}),r.d(e,"f",function(){return a}),r.d(e,"d",function(){return p}),r.d(e,"c",function(){return h}),r.d(e,"e",function(){return d}),r.d(e,"g",function(){return g});var u=/^--carotinnovel--/;var s=/^[ \t\r\n\s]*"([^"]*)"[ \t\r\n\s]*$/,c=/^[ \t\r\n\s]*'([^']*)'[ \t\r\n\s]*$/;function l(t){return t.replace(s,"$1").replace(c,"$1")}var f=/([^\]]*)\].*/;function p(t){for(var e=":root["+t+"=",r={},n=0;n<document.styleSheets.length&&!(document.styleSheets[n].type.indexOf("css")<0);n++){var o=document.styleSheets[n];try{for(var i=o.rules,a=0;a<i.length;a++){var u=i[a];if(u.selectorText&&0==u.selectorText.indexOf(e)){var s=l(u.selectorText.substring(e.length).replace(f,"$1"));r[s]&&r[s].length>0?r[s].push(u):r[s]=[u]}}}catch(t){break}}return Object.keys(r).map(function(t){return{dataValue:t,rules:r[t]}})}function h(t){for(var e,r={},n=0;n<t.length;n++)for(var o=t[n].style,i=0;i<o.length;i++){var a=o[i];r[(e=a,e.replace(u,""))]=l(o.getPropertyValue(a))}return r}function d(t){return document.documentElement.getAttribute(t)}function g(t,e){document.documentElement.setAttribute(t,e)}},function(t,e,r){"use strict";r.d(e,"a",function(){return n}),r.d(e,"c",function(){return o}),r.d(e,"b",function(){return i});var n="carotin_novel",o="data-style-theme",i="data-style-font"},function(t,e,r){"use strict";r.d(e,"a",function(){return u}),r.d(e,"b",function(){return s});var n=r(10),o=r(0),i=r(1);function a(t){return new n.a({version:t["meta-theme-version"]||"",namespace:t["meta-theme-namespace"]||"",id:t["meta-theme-id"]||"",name:t["meta-theme-name"]||"",description:t["meta-theme-description"]||"",author:t["meta-theme-author"]||"",href:t["meta-theme-href"]||"",license:t["meta-theme-license"]||"",data:t})}var u="carotin_novel",s=new(function(){function t(){this._authorDefault=Object(o.e)(i.c)||"",this._themes=[],this._defaultIndex=-1,this._authorDefaultIndex=-1,this.load()}return Object.defineProperty(t.prototype,"themes",{get:function(){return this._themes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"default",{get:function(){return{index:this._defaultIndex,theme:this._themes[this._defaultIndex]}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"authorDefault",{get:function(){return{index:this._authorDefaultIndex,theme:this._authorDefaultIndex>=0?this._themes[this._authorDefaultIndex]:null}},enumerable:!0,configurable:!0}),t.prototype.getTheme=function(t,e){for(var r=0;r<this._themes.length;r++)if(this._themes[r].namespace==t&&this._themes[r].id==e)return{index:r,theme:this._themes[r]};return{index:-1,theme:null}},t.prototype.apply=function(t){Object(o.g)(i.c,t.identifer)},t.prototype.load=function(){this._themes=[];for(var t=Object(o.d)(i.c),e=0;e<t.length;e++){var r=Object(o.c)(t[e].rules);this._themes.push(a(r))}this._defaultIndex=0,this._authorDefaultIndex=-1;for(e=0;e<this._themes.length;e++){var n=this._themes[e];n.identifier===this._authorDefault&&(this._authorDefaultIndex=e),n.namespace==u&&"default"==n.id&&(this._defaultIndex=e)}},t}())},function(t,e,r){"use strict";r.d(e,"a",function(){return g});var n,o=r(1),i=r(11),a=r.n(i),u=r(7),s=r.n(u),c=r(6),l=r.n(c),f=r(18),p=r.n(f),h=r(2);l.a.addPlugin(p.a);var d=((n={})[o.a]={version:"0.0.1",config:{update:(new Date).getTime(),slidepad:{position:"right"},theme:{id:"default",namespace:h.a},font:{id:"serif"}},works:{}},n);var g=new(function(){function t(){this.emptyInStorage=!1,this.saveQueueId=-1,this.cache=this.load()}return Object.defineProperty(t.prototype,"config",{get:function(){return this.cache.config},enumerable:!0,configurable:!0}),t.prototype.getWork=function(t){return Object.hasOwnProperty.call(this.cache.works,t)?this.cache.works[t]:null},t.prototype.update=function(t){var e=s()(this.cache,t);a()(this.cache,e)||this.save(e)},t.prototype.updateWork=function(t,e){var r,n=s()(this.cache,{works:(r={},r[t]=e,r)});this.save(n)},t.prototype.updateConfig=function(t){var e=s()(this.cache,{config:t});this.save(e)},t.prototype.save=function(t){var e=this;this.cache=t,window.clearTimeout(this.saveQueueId),this.saveQueueId=window.setTimeout(function(){l.a.set(o.a,e.cache)},100)},t.prototype.load=function(){var t=l.a.get(o.a);t||(this.emptyInStorage=!0,l.a.defaults(d),t=l.a.get(o.a));var e,r=(e=t,s()(d[o.a],e));return a()(t,r)||this.save(r),r},t}())},function(t,e,r){"use strict";r.d(e,"a",function(){return a});var n=r(3),o=r(2),i=r(5);var a=new(function(){function t(){this.articleId="",this.authorSetting={font:i.a.authorDefault,theme:o.b.authorDefault},this.overwrite={theme:!1,font:!1},this.config=n.a.config,this.userSetting={theme:o.b.getTheme(this.config.theme.namespace,this.config.theme.id),font:i.a.getFont(this.config.font.id)}}return Object.defineProperty(t.prototype,"slidepad",{get:function(){return this.config.slidepad},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"authorDefault",{get:function(){return this.authorSetting},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"themes",{get:function(){return o.b.themes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"theme",{get:function(){return this.reload(),this.authorSetting.theme.theme?this.overwrite.theme&&this.userSetting.theme.theme?this.userSetting.theme.theme:this.authorSetting.theme.theme:this.userSetting.theme.theme||o.b.default.theme},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fonts",{get:function(){return i.a.fonts},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){return this.reload(),this.authorSetting.font.font?this.overwrite.font&&this.userSetting.font.font?this.userSetting.font.font:this.authorSetting.font.font:this.userSetting.font.font||i.a.default.font},enumerable:!0,configurable:!0}),t.prototype.setArticleId=function(t){this.articleId=t},t.prototype.reload=function(){var t,e;this.overwrite=(t=this.articleId,(e=n.a.getWork(t))&&e.styles?{theme:e.styles.overwriteTheme,font:e.styles.overwriteFont}:{theme:!1,font:!1}),this.config=n.a.config,this.userSetting={theme:o.b.getTheme(this.config.theme.namespace,this.config.theme.id),font:i.a.getFont(this.config.font.id)}},t}())},function(t,e,r){"use strict";var n=function(t){this.id=t.id,this.name=t.name,this.family=t.family,this.description=t.description},o=r(0),i=r(1);function a(t,e){return new n({id:e||"",name:t["font-name"]||"",family:t["font-family"]||"",description:t["font-description"]||""})}r.d(e,"a",function(){return u});var u=new(function(){function t(){this._authorDefault=Object(o.e)(i.b)||"",this._fonts=[],this._defaultIndex=-1,this._authorDefaultIndex=-1,this.load()}return Object.defineProperty(t.prototype,"fonts",{get:function(){return this._fonts},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"default",{get:function(){return{index:this._defaultIndex,font:this._fonts[this._defaultIndex]}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"authorDefault",{get:function(){return{index:this._authorDefaultIndex,font:this._authorDefaultIndex>=0?this._fonts[this._authorDefaultIndex]:null}},enumerable:!0,configurable:!0}),t.prototype.getFont=function(t){for(var e=0;e<this._fonts.length;e++)if(this._fonts[e].id==t)return{index:e,font:this._fonts[e]};return{index:-1,font:null}},t.prototype.apply=function(t){Object(o.g)(i.b,t)},t.prototype.load=function(){this._fonts=[];for(var t=Object(o.d)(i.b),e=0;e<t.length;e++){var r=Object(o.c)(t[e].rules);this._fonts.push(a(r,t[e].dataValue))}this._defaultIndex=0,this._authorDefaultIndex=-1;for(e=0;e<this._fonts.length;e++){var n=this._fonts[e];n.id==this._authorDefault&&(this._authorDefaultIndex=e),"serif"==n.id&&(this._defaultIndex=e)}},t}())},function(t,e,r){var n=r(30),o=[r(32),r(33),r(34),r(35)];t.exports=n.createStore(o,[])},function(t,e,r){"use strict";var n=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===o}(t)}(t)};var o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(t,e){return!1!==e.clone&&e.isMergeableObject(t)?c((r=t,Array.isArray(r)?[]:{}),t,e):t;var r}function a(t,e,r){return t.concat(e).map(function(t){return i(t,r)})}function u(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return t.propertyIsEnumerable(e)}):[]}(t))}function s(t,e,r){var n={};return r.isMergeableObject(t)&&u(t).forEach(function(e){n[e]=i(t[e],r)}),u(e).forEach(function(o){r.isMergeableObject(e[o])&&t[o]?n[o]=function(t,e){if(!e.customMerge)return c;var r=e.customMerge(t);return"function"==typeof r?r:c}(o,r)(t[o],e[o],r):n[o]=i(e[o],r)}),n}function c(t,e,r){(r=r||{}).arrayMerge=r.arrayMerge||a,r.isMergeableObject=r.isMergeableObject||n;var o=Array.isArray(e);return o===Array.isArray(t)?o?r.arrayMerge(t,e,r):s(t,e,r):i(e,r)}c.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(t,r){return c(t,r,e)},{})};var l=c;t.exports=l},function(t,e,r){(function(e){var r=Object.assign?Object.assign:function(t,e,r,n){for(var o=1;o<arguments.length;o++)u(Object(arguments[o]),function(e,r){t[r]=e});return t},n=function(){if(Object.create)return function(t,e,n,o){var i=a(arguments,1);return r.apply(this,[Object.create(t)].concat(i))};{function t(){}return function(e,n,o,i){var u=a(arguments,1);return t.prototype=e,r.apply(this,[new t].concat(u))}}}(),o=String.prototype.trim?function(t){return String.prototype.trim.call(t)}:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},i="undefined"!=typeof window?window:e;function a(t,e){return Array.prototype.slice.call(t,e||0)}function u(t,e){s(t,function(t,r){return e(t,r),!1})}function s(t,e){if(c(t)){for(var r=0;r<t.length;r++)if(e(t[r],r))return t[r]}else for(var n in t)if(t.hasOwnProperty(n)&&e(t[n],n))return t[n]}function c(t){return null!=t&&"function"!=typeof t&&"number"==typeof t.length}t.exports={assign:r,create:n,trim:o,bind:function(t,e){return function(){return e.apply(t,Array.prototype.slice.call(arguments,0))}},slice:a,each:u,map:function(t,e){var r=c(t)?[]:{};return s(t,function(t,n){return r[n]=e(t,n),!1}),r},pluck:s,isList:c,isFunction:function(t){return t&&"[object Function]"==={}.toString.call(t)},isObject:function(t){return t&&"[object Object]"==={}.toString.call(t)},Global:i}}).call(this,r(31))},function(t,e,r){"use strict";var n=r(12),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,a=Array.prototype.concat,u=Object.defineProperty,s=u&&function(){var t={};try{for(var e in u(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}(),c=function(t,e,r,n){var o;e in t&&("function"!=typeof(o=n)||"[object Function]"!==i.call(o)||!n())||(s?u(t,e,{configurable:!0,enumerable:!1,value:r,writable:!0}):t[e]=r)},l=function(t,e){var r=arguments.length>2?arguments[2]:{},i=n(e);o&&(i=a.call(i,Object.getOwnPropertySymbols(e)));for(var u=0;u<i.length;u+=1)c(t,i[u],e[i[u]],r[i[u]])};l.supportsDescriptors=!!s,t.exports=l},function(t,e,r){"use strict";r.d(e,"b",function(){return o}),r.d(e,"a",function(){return i});var n=r(2);function o(t){return t.namespace==n.a?t.id:t.namespace+"-"+t.id}var i=function(){function t(t){this.version=t.version,this.namespace=t.namespace,this.id=t.id,this.name=t.name,this.description=t.description,this.author=t.author,this.href=t.href,this.license=t.license,this.data=t.data}return Object.defineProperty(t.prototype,"identifier",{get:function(){return o(this)},enumerable:!0,configurable:!0}),t.prototype.getValue=function(t){var e=n.b.default.theme;return this.data[t]||(e?e.data[t]:"")},t.prototype.getColor=function(){return{background:"rgba("+this.getValue("background-base")+", "+this.getValue("background-base-a")+")",text:"rgba("+this.getValue("text-base")+", "+this.getValue("text-base-a")+")"}},t}()},function(t,e,r){var n=r(12),o=r(21),i=r(22),a=r(23),u=r(27),s=r(29),c=Date.prototype.getTime;function l(t,e,r){var h=r||{};return!(h.strict?!i(t,e):t!==e)||(!t||!e||"object"!=typeof t&&"object"!=typeof e?h.strict?i(t,e):t==e:function(t,e,r){var i,h;if(typeof t!=typeof e)return!1;if(f(t)||f(e))return!1;if(t.prototype!==e.prototype)return!1;if(o(t)!==o(e))return!1;var d=a(t),g=a(e);if(d!==g)return!1;if(d||g)return t.source===e.source&&u(t)===u(e);if(s(t)&&s(e))return c.call(t)===c.call(e);var m=p(t),y=p(e);if(m!==y)return!1;if(m||y){if(t.length!==e.length)return!1;for(i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}if(typeof t!=typeof e)return!1;try{var b=n(t),v=n(e)}catch(t){return!1}if(b.length!==v.length)return!1;for(b.sort(),v.sort(),i=b.length-1;i>=0;i--)if(b[i]!=v[i])return!1;for(i=b.length-1;i>=0;i--)if(h=b[i],!l(t[h],e[h],r))return!1;return!0}(t,e,h))}function f(t){return null==t}function p(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0]))}t.exports=l},function(t,e,r){"use strict";var n=Array.prototype.slice,o=r(13),i=Object.keys,a=i?function(t){return i(t)}:r(20),u=Object.keys;a.shim=function(){Object.keys?function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2)||(Object.keys=function(t){return o(t)?u(n.call(t)):u(t)}):Object.keys=a;return Object.keys||a},t.exports=a},function(t,e,r){"use strict";var n=Object.prototype.toString;t.exports=function(t){var e=n.call(t),r="[object Arguments]"===e;return r||(r="[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===n.call(t.callee)),r}},function(t,e,r){"use strict";var n=Object,o=TypeError;t.exports=function(){if(null!=this&&this!==n(this))throw new o("RegExp.prototype.flags getter called on non-object");var t="";return this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.sticky&&(t+="y"),t}},function(t,e,r){"use strict";var n=r(14),o=r(9).supportsDescriptors,i=Object.getOwnPropertyDescriptor,a=TypeError;t.exports=function(){if(!o)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var t=i(RegExp.prototype,"flags");if(t&&"function"==typeof t.get&&"boolean"==typeof/a/.dotAll)return t.get}return n}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function(){function t(t){this._dom=t,this.setScrollEvent()}return Object.defineProperty(t.prototype,"scrollLeft",{get:function(){return this._dom.scrollLeft},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dom",{get:function(){return this._dom},enumerable:!0,configurable:!0}),t.prototype.scrollToLeft=function(t,e){this.scrollTo(this._dom.scrollLeft+t,e)},t.prototype.scrollTo=function(t,e){this._dom.scrollTo?this._dom.scrollTo({left:t,behavior:e?"smooth":"auto"}):this._dom.scrollLeft=t},t.prototype.setScrollEvent=function(){var t=this;this._dom.addEventListener("wheel",function(e){0==e.deltaX&&(e.stopPropagation(),e.preventDefault(),t.scrollToLeft(-1*e.deltaY,!1))},{passive:!1})},t}()},function(t,e,r){"use strict";r.d(e,"a",function(){return o});var n=r(3),o=function(){function t(t,e){this.articleId="",this.animationId=-1,this.saveQueueId=-1,this.prevState=null,this.wrapper=t,this.articleId=e}return t.prototype.start=function(){var t=this;window.cancelAnimationFrame(this.animationId);var e=function(){t.autoSave(),t.animationId=window.requestAnimationFrame(e)};this.animationId=window.requestAnimationFrame(e)},t.prototype.autoSave=function(){this.save()},t.prototype.restore=function(){var t=n.a.getWork(this.articleId);return null!=t?this.doRestore(t):new Promise(function(t){t()})},t.prototype.doRestore=function(t){var e=this;return new Promise(function(r,n){var o=t.autosave;o?e.moveToBookmark(o).then(r).catch(n):r()})},t.prototype.moveToBookmark=function(t){for(var e=this,r=Array.from(this.wrapper.dom.querySelectorAll("div.page")),n=null,o=0;o<r.length;o++)if(r[o].getAttribute("data-page-id")==t.page){n=r[o];break}if(!n)return new Promise(function(t,e){e(new Error("Page not found."))});var i=Math.round(n.scrollWidth*t.scrolldepth);return new Promise(function(t){n&&(n.scrollIntoView(),n.offsetLeft),setTimeout(function(){e.wrapper.scrollToLeft(-1*i,!1),t()},300)})},t.prototype.save=function(){var t=this,e=this.getState();if(e.page&&null!=e.scrolldepth)if(null!=this.prevState){if(!this.isSame(this.prevState,e)){this.prevState=e;var r={autosave:e};window.clearTimeout(this.saveQueueId),this.saveQueueId=window.setTimeout(function(){n.a.updateWork(t.articleId,r)},500)}}else this.prevState=e},t.prototype.isSame=function(t,e){return t.page==e.page&&t.scrolldepth==e.scrolldepth},t.prototype.getRightTopElement=function(){for(var t=document.elementFromPoint(window.innerWidth-40,0);t&&t.parentElement;){if("div"==t.tagName.toLowerCase()&&t.classList.contains("page"))return t;t=t.parentElement}return null},t.prototype.getState=function(){var t={page:"",scrolldepth:0,update:(new Date).getTime()},e=this.getRightTopElement();if(e){t.page=e.getAttribute("data-page-id")||"";var r=e.getBoundingClientRect().right-window.innerWidth;t.scrolldepth=r/e.scrollWidth}return t},t}()},function(t,e){t.exports=function(){var t={};return{defaults:function(e,r){t=r},get:function(e,r){var n=e();return void 0!==n?n:t[r]}}}},function(t,e,r){"use strict";var n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("width","44"),n.setAttribute("height","44"),n.setAttribute("viewBox","0 0 44 44"),n.setAttribute("xmlns","http://www.w3.org/2000/svg");var o=document.createElementNS("http://www.w3.org/2000/svg","g");o.setAttribute("fill","none"),o.setAttribute("fill-rule","evenodd"),o.setAttribute("stroke-width","2");var i=document.createElementNS("http://www.w3.org/2000/svg","circle");i.setAttribute("cx","22"),i.setAttribute("cy","22"),i.setAttribute("r","1.0");var a=document.createElementNS("http://www.w3.org/2000/svg","animate");a.setAttribute("attributeName","r"),a.setAttribute("begin","0s"),a.setAttribute("dur","1.8s"),a.setAttribute("values","1; 20"),a.setAttribute("calcMode","spline"),a.setAttribute("keyTimes","0; 1"),a.setAttribute("keySplines","0.165, 0.84, 0.44, 1"),a.setAttribute("repeatCount","indefinite");var u=document.createElementNS("http://www.w3.org/2000/svg","animate");u.setAttribute("attributeName","stroke-opacity"),u.setAttribute("begin","0s"),u.setAttribute("dur","1.8s"),u.setAttribute("values","1; 0"),u.setAttribute("calcMode","spline"),u.setAttribute("keyTimes","0; 1"),u.setAttribute("keySplines","0.3, 0.61, 0.355, 1"),u.setAttribute("repeatCount","indefinite"),i.appendChild(a),i.appendChild(u);var s=document.createElementNS("http://www.w3.org/2000/svg","circle");s.setAttribute("cx","22"),s.setAttribute("cy","22"),s.setAttribute("r","1.0");var c=document.createElementNS("http://www.w3.org/2000/svg","animate");c.setAttribute("attributeName","r"),c.setAttribute("begin","-0.9s"),c.setAttribute("dur","1.8s"),c.setAttribute("values","1; 20"),c.setAttribute("calcMode","spline"),c.setAttribute("keyTimes","0; 1"),c.setAttribute("keySplines","0.165, 0.84, 0.44, 1"),c.setAttribute("repeatCount","indefinite");var l=document.createElementNS("http://www.w3.org/2000/svg","animate");l.setAttribute("attributeName","stroke-opacity"),l.setAttribute("begin","-0.9s"),l.setAttribute("dur","1.8s"),l.setAttribute("values","1; 0"),l.setAttribute("calcMode","spline"),l.setAttribute("keyTimes","0; 1"),l.setAttribute("keySplines","0.3, 0.61, 0.355, 1"),l.setAttribute("repeatCount","indefinite"),s.appendChild(c),s.appendChild(l),o.appendChild(i),o.appendChild(s),n.appendChild(o),r.d(e,"a",function(){return f});var f=function(){function t(t){this.wrapper=t,this.svgelements={circle:n}}return t.prototype.set=function(t){var e=this;this.wrapper.querySelectorAll("svg").forEach(function(t){e.wrapper.removeChild(t)}),this.wrapper.appendChild(this.svgelements[t])},t.prototype.show=function(){this.wrapper.classList.remove("off")},t.prototype.hide=function(){this.wrapper.classList.contains("off")||this.wrapper.classList.add("off")},t}()},function(t,e,r){"use strict";var n;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=r(13),u=Object.prototype.propertyIsEnumerable,s=!u.call({toString:null},"toString"),c=u.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(t){var e=t.constructor;return e&&e.prototype===t},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!p["$"+t]&&o.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{f(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();n=function(t){var e=null!==t&&"object"==typeof t,r="[object Function]"===i.call(t),n=a(t),u=e&&"[object String]"===i.call(t),p=[];if(!e&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var d=c&&r;if(u&&t.length>0&&!o.call(t,0))for(var g=0;g<t.length;++g)p.push(String(g));if(n&&t.length>0)for(var m=0;m<t.length;++m)p.push(String(m));else for(var y in t)d&&"prototype"===y||!o.call(t,y)||p.push(String(y));if(s)for(var b=function(t){if("undefined"==typeof window||!h)return f(t);try{return f(t)}catch(t){return!1}}(t),v=0;v<l.length;++v)b&&"constructor"===l[v]||!o.call(t,l[v])||p.push(l[v]);return p}}t.exports=n},function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,o=Object.prototype.toString,i=function(t){return!(n&&t&&"object"==typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===o.call(t)},a=function(t){return!!i(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==o.call(t)&&"[object Function]"===o.call(t.callee)},u=function(){return i(arguments)}();i.isLegacyArguments=a,t.exports=u?i:a},function(t,e,r){"use strict";var n=function(t){return t!=t};t.exports=function(t,e){return 0===t&&0===e?1/t==1/e:t===e||!(!n(t)||!n(e))}},function(t,e,r){"use strict";var n=r(24),o=RegExp.prototype.exec,i=Object.getOwnPropertyDescriptor,a=Object.prototype.toString,u="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function(t){if(!t||"object"!=typeof t)return!1;if(!u)return"[object RegExp]"===a.call(t);var e=i(t,"lastIndex");return!(!e||!n(e,"value"))&&function(t){try{var e=t.lastIndex;return t.lastIndex=0,o.call(t),!0}catch(t){return!1}finally{t.lastIndex=e}}(t)}},function(t,e,r){"use strict";var n=r(25);t.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},function(t,e,r){"use strict";var n=r(26);t.exports=Function.prototype.bind||n},function(t,e,r){"use strict";var n="Function.prototype.bind called on incompatible ",o=Array.prototype.slice,i=Object.prototype.toString;t.exports=function(t){var e=this;if("function"!=typeof e||"[object Function]"!==i.call(e))throw new TypeError(n+e);for(var r,a=o.call(arguments,1),u=function(){if(this instanceof r){var n=e.apply(this,a.concat(o.call(arguments)));return Object(n)===n?n:this}return e.apply(t,a.concat(o.call(arguments)))},s=Math.max(0,e.length-a.length),c=[],l=0;l<s;l++)c.push("$"+l);if(r=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(u),e.prototype){var f=function(){};f.prototype=e.prototype,r.prototype=new f,f.prototype=null}return r}},function(t,e,r){"use strict";var n=r(9),o=r(14),i=r(15),a=r(28),u=Function.call.bind(o);n(u,{getPolyfill:i,implementation:o,shim:a}),t.exports=u},function(t,e,r){"use strict";var n=r(9).supportsDescriptors,o=r(15),i=Object.getOwnPropertyDescriptor,a=Object.defineProperty,u=TypeError,s=Object.getPrototypeOf,c=/a/;t.exports=function(){if(!n||!s)throw new u("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=o(),e=s(c),r=i(e,"flags");return r&&r.get===t||a(e,"flags",{configurable:!0,enumerable:!1,get:t}),t}},function(t,e,r){"use strict";var n=Date.prototype.getDay,o=Object.prototype.toString,i="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function(t){return"object"==typeof t&&null!==t&&(i?function(t){try{return n.call(t),!0}catch(t){return!1}}(t):"[object Date]"===o.call(t))}},function(t,e,r){var n=r(8),o=n.slice,i=n.pluck,a=n.each,u=n.bind,s=n.create,c=n.isList,l=n.isFunction,f=n.isObject;t.exports={createStore:h};var p={version:"2.0.12",enabled:!1,get:function(t,e){var r=this.storage.read(this._namespacePrefix+t);return this._deserialize(r,e)},set:function(t,e){return void 0===e?this.remove(t):(this.storage.write(this._namespacePrefix+t,this._serialize(e)),e)},remove:function(t){this.storage.remove(this._namespacePrefix+t)},each:function(t){var e=this;this.storage.each(function(r,n){t.call(e,e._deserialize(r),(n||"").replace(e._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(t){return this._namespacePrefix=="__storejs_"+t+"_"},createStore:function(){return h.apply(this,arguments)},addPlugin:function(t){this._addPlugin(t)},namespace:function(t){return h(this.storage,this.plugins,t)}};function h(t,e,r){r||(r=""),t&&!c(t)&&(t=[t]),e&&!c(e)&&(e=[e]);var n=r?"__storejs_"+r+"_":"",h=r?new RegExp("^"+n):null;if(!/^[a-zA-Z0-9_\-]*$/.test(r))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var d=s({_namespacePrefix:n,_namespaceRegexp:h,_testStorage:function(t){try{var e="__storejs__test__";t.write(e,e);var r=t.read(e)===e;return t.remove(e),r}catch(t){return!1}},_assignPluginFnProp:function(t,e){var r=this[e];this[e]=function(){var e=o(arguments,0),n=this;function i(){if(r)return a(arguments,function(t,r){e[r]=t}),r.apply(n,e)}var u=[i].concat(e);return t.apply(n,u)}},_serialize:function(t){return JSON.stringify(t)},_deserialize:function(t,e){if(!t)return e;var r="";try{r=JSON.parse(t)}catch(e){r=t}return void 0!==r?r:e},_addStorage:function(t){this.enabled||this._testStorage(t)&&(this.storage=t,this.enabled=!0)},_addPlugin:function(t){var e=this;if(c(t))a(t,function(t){e._addPlugin(t)});else if(!i(this.plugins,function(e){return t===e})){if(this.plugins.push(t),!l(t))throw new Error("Plugins must be function values that return objects");var r=t.call(this);if(!f(r))throw new Error("Plugins must return an object of function properties");a(r,function(r,n){if(!l(r))throw new Error("Bad plugin property: "+n+" from plugin "+t.name+". Plugins should only return functions.");e._assignPluginFnProp(r,n)})}},addStorage:function(t){!function(){var t="undefined"==typeof console?null:console;t&&(t.warn?t.warn:t.log).apply(t,arguments)}("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(t)}},p,{plugins:[]});return d.raw={},a(d,function(t,e){l(t)&&(d.raw[e]=u(d,t))}),a(t,function(t){d._addStorage(t)}),a(e,function(t){d._addPlugin(t)}),d}},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){var n=r(8).Global;function o(){return n.localStorage}function i(t){return o().getItem(t)}t.exports={name:"localStorage",read:i,write:function(t,e){return o().setItem(t,e)},each:function(t){for(var e=o().length-1;e>=0;e--){var r=o().key(e);t(i(r),r)}},remove:function(t){return o().removeItem(t)},clearAll:function(){return o().clear()}}},function(t,e,r){var n=r(8).Global;function o(){return n.sessionStorage}function i(t){return o().getItem(t)}t.exports={name:"sessionStorage",read:i,write:function(t,e){return o().setItem(t,e)},each:function(t){for(var e=o().length-1;e>=0;e--){var r=o().key(e);t(i(r),r)}},remove:function(t){return o().removeItem(t)},clearAll:function(){return o().clear()}}},function(t,e,r){var n=r(8),o=n.Global,i=n.trim;t.exports={name:"cookieStorage",read:function(t){if(!t||!c(t))return null;var e="(?:^|.*;\\s*)"+escape(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(a.cookie.replace(new RegExp(e),"$1"))},write:function(t,e){if(!t)return;a.cookie=escape(t)+"="+escape(e)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/"},each:u,remove:s,clearAll:function(){u(function(t,e){s(e)})}};var a=o.document;function u(t){for(var e=a.cookie.split(/; ?/g),r=e.length-1;r>=0;r--)if(i(e[r])){var n=e[r].split("="),o=unescape(n[0]);t(unescape(n[1]),o)}}function s(t){t&&c(t)&&(a.cookie=escape(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function c(t){return new RegExp("(?:^|;\\s*)"+escape(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(a.cookie)}},function(t,e){t.exports={name:"memoryStorage",read:function(t){return r[t]},write:function(t,e){r[t]=e},each:function(t){for(var e in r)r.hasOwnProperty(e)&&t(r[e],e)},remove:function(t){delete r[t]},clearAll:function(t){r={}}};var r={}},,,,,,function(t,e,r){"use strict";r.r(e);var n=r(16),o=r(19),i=r(17),a=r(0),u=r(4),s=function(){function t(){var t=document.querySelector("div.carotin_novel");if(!t)throw new Error("Could not get elements.");this.rootDom=t;var e=t.querySelector("div.content_wrapper");if(!e)throw new Error("Could not get elements.");this.wrapperDom=e,this._articleId=this.wrapperDom.getAttribute("data-article-id")||location.pathname,u.a.setArticleId(this._articleId),this.wrapper=new n.a(this.wrapperDom);var r=this.rootDom.querySelector("div.bg_wrapper");r||((r=document.createElement("div")).classList.add("bg_wrapper"),this.rootDom.insertBefore(r,this.wrapperDom)),this.bgDom=r;var a=this.rootDom.querySelector("div.fg_wrapper");a||((a=document.createElement("div")).classList.add("fg_wrapper"),this.rootDom.insertBefore(a,this.wrapperDom)),this.fgDom=a;var s=this.fgDom.querySelector("div.loader");s||((s=document.createElement("div")).classList.add("loader"),this.fgDom.appendChild(s)),this.loaderDom=s,this.loader=new o.a(this.loaderDom),this.scrollManager=new i.a(this.wrapper,this._articleId)}return Object.defineProperty(t.prototype,"articleId",{get:function(){return this._articleId},enumerable:!0,configurable:!0}),t.prototype.start=function(){var t=this;this.loader.set("circle"),this.loader.show(),Object(a.b)(this.wrapperDom),Object(a.f)(this.rootDom),Object(a.a)(this.wrapperDom),this.scrollManager.restore().then(function(){t.scrollManager.start(),t.loader.hide()}).catch(function(e){console.log(e),t.scrollManager.start(),t.loader.hide()})},t}();window.addEventListener("DOMContentLoaded",function(){(new s).start()})}]);