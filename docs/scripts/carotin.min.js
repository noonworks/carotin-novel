!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=29)}([function(t,e,i){var n=i(21),r=[i(23),i(24),i(25),i(26)];t.exports=n.createStore(r,[])},function(t,e,i){(function(e){var i=Object.assign?Object.assign:function(t,e,i,n){for(var r=1;r<arguments.length;r++)a(Object(arguments[r]),function(e,i){t[i]=e});return t},n=function(){if(Object.create)return function(t,e,n,r){var o=s(arguments,1);return i.apply(this,[Object.create(t)].concat(o))};{function t(){}return function(e,n,r,o){var a=s(arguments,1);return t.prototype=e,i.apply(this,[new t].concat(a))}}}(),r=String.prototype.trim?function(t){return String.prototype.trim.call(t)}:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},o="undefined"!=typeof window?window:e;function s(t,e){return Array.prototype.slice.call(t,e||0)}function a(t,e){c(t,function(t,i){return e(t,i),!1})}function c(t,e){if(u(t)){for(var i=0;i<t.length;i++)if(e(t[i],i))return t[i]}else for(var n in t)if(t.hasOwnProperty(n)&&e(t[n],n))return t[n]}function u(t){return null!=t&&"function"!=typeof t&&"number"==typeof t.length}t.exports={assign:i,create:n,trim:r,bind:function(t,e){return function(){return e.apply(t,Array.prototype.slice.call(arguments,0))}},slice:s,each:a,map:function(t,e){var i=u(t)?[]:{};return c(t,function(t,n){return i[n]=e(t,n),!1}),i},pluck:c,isList:u,isFunction:function(t){return t&&"[object Function]"==={}.toString.call(t)},isObject:function(t){return t&&"[object Object]"==={}.toString.call(t)},Global:o}}).call(this,i(22))},function(t,e,i){"use strict";var n=i(3),r="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,s=Array.prototype.concat,a=Object.defineProperty,c=a&&function(){var t={};try{for(var e in a(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}(),u=function(t,e,i,n){var r;e in t&&("function"!=typeof(r=n)||"[object Function]"!==o.call(r)||!n())||(c?a(t,e,{configurable:!0,enumerable:!1,value:i,writable:!0}):t[e]=i)},l=function(t,e){var i=arguments.length>2?arguments[2]:{},o=n(e);r&&(o=s.call(o,Object.getOwnPropertySymbols(e)));for(var a=0;a<o.length;a+=1)u(t,o[a],e[o[a]],i[o[a]])};l.supportsDescriptors=!!c,t.exports=l},function(t,e,i){"use strict";var n=Array.prototype.slice,r=i(4),o=Object.keys,s=o?function(t){return o(t)}:i(11),a=Object.keys;s.shim=function(){Object.keys?function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2)||(Object.keys=function(t){return r(t)?a(n.call(t)):a(t)}):Object.keys=s;return Object.keys||s},t.exports=s},function(t,e,i){"use strict";var n=Object.prototype.toString;t.exports=function(t){var e=n.call(t),i="[object Arguments]"===e;return i||(i="[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===n.call(t.callee)),i}},function(t,e,i){"use strict";var n=Object,r=TypeError;t.exports=function(){if(null!=this&&this!==n(this))throw new r("RegExp.prototype.flags getter called on non-object");var t="";return this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.sticky&&(t+="y"),t}},function(t,e,i){"use strict";var n=i(5),r=i(2).supportsDescriptors,o=Object.getOwnPropertyDescriptor,s=TypeError;t.exports=function(){if(!r)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var t=o(RegExp.prototype,"flags");if(t&&"function"==typeof t.get&&"boolean"==typeof/a/.dotAll)return t.get}return n}},function(t,e,i){var n=i(3),r=i(12),o=i(13),s=i(14),a=i(18),c=i(20),u=Date.prototype.getTime;function l(t,e,i){var f=i||{};return!(f.strict?!o(t,e):t!==e)||(!t||!e||"object"!=typeof t&&"object"!=typeof e?f.strict?o(t,e):t==e:function(t,e,i){var o,f;if(typeof t!=typeof e)return!1;if(p(t)||p(e))return!1;if(t.prototype!==e.prototype)return!1;if(r(t)!==r(e))return!1;var h=s(t),y=s(e);if(h!==y)return!1;if(h||y)return t.source===e.source&&a(t)===a(e);if(c(t)&&c(e))return u.call(t)===u.call(e);var m=d(t),g=d(e);if(m!==g)return!1;if(m||g){if(t.length!==e.length)return!1;for(o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}if(typeof t!=typeof e)return!1;try{var v=n(t),b=n(e)}catch(t){return!1}if(v.length!==b.length)return!1;for(v.sort(),b.sort(),o=v.length-1;o>=0;o--)if(v[o]!=b[o])return!1;for(o=v.length-1;o>=0;o--)if(f=v[o],!l(t[f],e[f],i))return!1;return!0}(t,e,f))}function p(t){return null==t}function d(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0]))}t.exports=l},function(t,e,i){"use strict";var n=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===r}(t)}(t)};var r="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function o(t,e){return!1!==e.clone&&e.isMergeableObject(t)?u((i=t,Array.isArray(i)?[]:{}),t,e):t;var i}function s(t,e,i){return t.concat(e).map(function(t){return o(t,i)})}function a(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return t.propertyIsEnumerable(e)}):[]}(t))}function c(t,e,i){var n={};return i.isMergeableObject(t)&&a(t).forEach(function(e){n[e]=o(t[e],i)}),a(e).forEach(function(r){i.isMergeableObject(e[r])&&t[r]?n[r]=function(t,e){if(!e.customMerge)return u;var i=e.customMerge(t);return"function"==typeof i?i:u}(r,i)(t[r],e[r],i):n[r]=o(e[r],i)}),n}function u(t,e,i){(i=i||{}).arrayMerge=i.arrayMerge||s,i.isMergeableObject=i.isMergeableObject||n;var r=Array.isArray(e);return r===Array.isArray(t)?r?i.arrayMerge(t,e,i):c(t,e,i):o(e,i)}u.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(t,i){return u(t,i,e)},{})};var l=u;t.exports=l},function(t,e){t.exports=function(){var t={};return{defaults:function(e,i){t=i},get:function(e,i){var n=e();return void 0!==n?n:t[i]}}}},function(t,e,i){window,t.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);var n,r=function(t,e){var i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)},o=function(t){return t*(Math.PI/180)},s=function(t,e,i){for(var n,r=e.split(/[ ,]+/g),o=0;o<r.length;o+=1)n=r[o],t.addEventListener?t.addEventListener(n,i,!1):t.attachEvent&&t.attachEvent(n,i)},a=function(t,e,i){for(var n,r=e.split(/[ ,]+/g),o=0;o<r.length;o+=1)n=r[o],t.removeEventListener?t.removeEventListener(n,i):t.detachEvent&&t.detachEvent(n,i)},c=function(t){return t.preventDefault(),t.type.match(/^touch/)?t.changedTouches:t},u=function(){return{x:void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}},l=function(t,e){e.top||e.right||e.bottom||e.left?(t.style.top=e.top,t.style.right=e.right,t.style.bottom=e.bottom,t.style.left=e.left):(t.style.left=e.x+"px",t.style.top=e.y+"px")},p=function(t,e,i){var n=d(t);for(var r in n)if(n.hasOwnProperty(r))if("string"==typeof e)n[r]=e+" "+i;else{for(var o="",s=0,a=e.length;s<a;s+=1)o+=e[s]+" "+i+", ";n[r]=o.slice(0,-2)}return n},d=function(t){var e={};return e[t]="",["webkit","Moz","o"].forEach(function(i){e[i+t.charAt(0).toUpperCase()+t.slice(1)]=""}),e},f=function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},h=function(t,e){if(t.length)for(var i=0,n=t.length;i<n;i+=1)e(t[i]);else e(t)},y=!!("ontouchstart"in window),m=!!window.PointerEvent,g=!!window.MSPointerEvent,v={start:"mousedown",move:"mousemove",end:"mouseup"},b={};function w(){}m?n={start:"pointerdown",move:"pointermove",end:"pointerup, pointercancel"}:g?n={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:y?(n={start:"touchstart",move:"touchmove",end:"touchend, touchcancel"},b=v):n=v,w.prototype.on=function(t,e){var i,n=t.split(/[ ,]+/g);this._handlers_=this._handlers_||{};for(var r=0;r<n.length;r+=1)i=n[r],this._handlers_[i]=this._handlers_[i]||[],this._handlers_[i].push(e);return this},w.prototype.off=function(t,e){return this._handlers_=this._handlers_||{},void 0===t?this._handlers_={}:void 0===e?this._handlers_[t]=null:this._handlers_[t]&&this._handlers_[t].indexOf(e)>=0&&this._handlers_[t].splice(this._handlers_[t].indexOf(e),1),this},w.prototype.trigger=function(t,e){var i,n=this,r=t.split(/[ ,]+/g);n._handlers_=n._handlers_||{};for(var o=0;o<r.length;o+=1)i=r[o],n._handlers_[i]&&n._handlers_[i].length&&n._handlers_[i].forEach(function(t){t.call(n,{type:i,target:n},e)})},w.prototype.config=function(t){this.options=this.defaults||{},t&&(this.options=function(t,e){var i={};for(var n in t)t.hasOwnProperty(n)&&e.hasOwnProperty(n)?i[n]=e[n]:t.hasOwnProperty(n)&&(i[n]=t[n]);return i}(this.options,t))},w.prototype.bindEvt=function(t,e){var i=this;return i._domHandlers_=i._domHandlers_||{},i._domHandlers_[e]=function(){"function"==typeof i["on"+e]?i["on"+e].apply(i,arguments):console.warn('[WARNING] : Missing "on'+e+'" handler.')},s(t,n[e],i._domHandlers_[e]),b[e]&&s(t,b[e],i._domHandlers_[e]),i},w.prototype.unbindEvt=function(t,e){return this._domHandlers_=this._domHandlers_||{},a(t,n[e],this._domHandlers_[e]),b[e]&&a(t,b[e],this._domHandlers_[e]),delete this._domHandlers_[e],this};var O=w;function x(t,e){return this.identifier=e.identifier,this.position=e.position,this.frontPosition=e.frontPosition,this.collection=t,this.defaults={size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:.5,mode:"dynamic",zone:document.body,lockX:!1,lockY:!1},this.config(e),"dynamic"===this.options.mode&&(this.options.restOpacity=0),this.id=x.id,x.id+=1,this.buildEl().stylize(),this.instance={el:this.ui.el,on:this.on.bind(this),off:this.off.bind(this),show:this.show.bind(this),hide:this.hide.bind(this),add:this.addToDom.bind(this),remove:this.removeFromDom.bind(this),destroy:this.destroy.bind(this),resetDirection:this.resetDirection.bind(this),computeDirection:this.computeDirection.bind(this),trigger:this.trigger.bind(this),position:this.position,frontPosition:this.frontPosition,ui:this.ui,identifier:this.identifier,id:this.id,options:this.options},this.instance}x.prototype=new O,x.constructor=x,x.id=0,x.prototype.buildEl=function(t){return this.ui={},this.options.dataOnly?this:(this.ui.el=document.createElement("div"),this.ui.back=document.createElement("div"),this.ui.front=document.createElement("div"),this.ui.el.className="nipple collection_"+this.collection.id,this.ui.back.className="back",this.ui.front.className="front",this.ui.el.setAttribute("id","nipple_"+this.collection.id+"_"+this.id),this.ui.el.appendChild(this.ui.back),this.ui.el.appendChild(this.ui.front),this)},x.prototype.stylize=function(){if(this.options.dataOnly)return this;var t=this.options.fadeTime+"ms",e=function(t,e){var i=d("borderRadius");for(var n in i)i.hasOwnProperty(n)&&(i[n]="50%");return i}(),i=p("transition","opacity",t),n={};return n.el={position:"absolute",opacity:this.options.restOpacity,display:"block",zIndex:999},n.back={position:"absolute",display:"block",width:this.options.size+"px",height:this.options.size+"px",marginLeft:-this.options.size/2+"px",marginTop:-this.options.size/2+"px",background:this.options.color,opacity:".5"},n.front={width:this.options.size/2+"px",height:this.options.size/2+"px",position:"absolute",display:"block",marginLeft:-this.options.size/4+"px",marginTop:-this.options.size/4+"px",background:this.options.color,opacity:".5"},f(n.el,i),f(n.back,e),f(n.front,e),this.applyStyles(n),this},x.prototype.applyStyles=function(t){for(var e in this.ui)if(this.ui.hasOwnProperty(e))for(var i in t[e])this.ui[e].style[i]=t[e][i];return this},x.prototype.addToDom=function(){return this.options.dataOnly||document.body.contains(this.ui.el)?this:(this.options.zone.appendChild(this.ui.el),this)},x.prototype.removeFromDom=function(){return this.options.dataOnly||!document.body.contains(this.ui.el)?this:(this.options.zone.removeChild(this.ui.el),this)},x.prototype.destroy=function(){clearTimeout(this.removeTimeout),clearTimeout(this.showTimeout),clearTimeout(this.restTimeout),this.trigger("destroyed",this.instance),this.removeFromDom(),this.off()},x.prototype.show=function(t){var e=this;return e.options.dataOnly?e:(clearTimeout(e.removeTimeout),clearTimeout(e.showTimeout),clearTimeout(e.restTimeout),e.addToDom(),e.restCallback(),setTimeout(function(){e.ui.el.style.opacity=1},0),e.showTimeout=setTimeout(function(){e.trigger("shown",e.instance),"function"==typeof t&&t.call(this)},e.options.fadeTime),e)},x.prototype.hide=function(t){var e=this;return e.options.dataOnly?e:(e.ui.el.style.opacity=e.options.restOpacity,clearTimeout(e.removeTimeout),clearTimeout(e.showTimeout),clearTimeout(e.restTimeout),e.removeTimeout=setTimeout(function(){var i="dynamic"===e.options.mode?"none":"block";e.ui.el.style.display=i,"function"==typeof t&&t.call(e),e.trigger("hidden",e.instance)},e.options.fadeTime),e.options.restJoystick&&e.restPosition(),e)},x.prototype.restPosition=function(t){var e=this;e.frontPosition={x:0,y:0};var i=e.options.fadeTime+"ms",n={};n.front=p("transition",["top","left"],i);var r={front:{}};r.front={left:e.frontPosition.x+"px",top:e.frontPosition.y+"px"},e.applyStyles(n),e.applyStyles(r),e.restTimeout=setTimeout(function(){"function"==typeof t&&t.call(e),e.restCallback()},e.options.fadeTime)},x.prototype.restCallback=function(){var t={};t.front=p("transition","none",""),this.applyStyles(t),this.trigger("rested",this.instance)},x.prototype.resetDirection=function(){this.direction={x:!1,y:!1,angle:!1}},x.prototype.computeDirection=function(t){var e,i,n,r=t.angle.radian,o=Math.PI/4,s=Math.PI/2;if(r>o&&r<3*o&&!t.lockX?e="up":r>-o&&r<=o&&!t.lockY?e="left":r>3*-o&&r<=-o&&!t.lockX?e="down":t.lockY||(e="right"),t.lockY||(i=r>-s&&r<s?"left":"right"),t.lockX||(n=r>0?"up":"down"),t.force>this.options.threshold){var a,c={};for(a in this.direction)this.direction.hasOwnProperty(a)&&(c[a]=this.direction[a]);var u={};for(a in this.direction={x:i,y:n,angle:e},t.direction=this.direction,c)c[a]===this.direction[a]&&(u[a]=!0);if(u.x&&u.y&&u.angle)return t;u.x&&u.y||this.trigger("plain",t),u.x||this.trigger("plain:"+i,t),u.y||this.trigger("plain:"+n,t),u.angle||this.trigger("dir dir:"+e,t)}else this.resetDirection();return t};var S=x;function _(t,e){return this.nipples=[],this.idles=[],this.actives=[],this.ids=[],this.pressureIntervals={},this.manager=t,this.id=_.id,_.id+=1,this.defaults={zone:document.body,multitouch:!1,maxNumberOfNipples:10,mode:"dynamic",position:{top:0,left:0},catchDistance:200,size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:.5,lockX:!1,lockY:!1},this.config(e),"static"!==this.options.mode&&"semi"!==this.options.mode||(this.options.multitouch=!1),this.options.multitouch||(this.options.maxNumberOfNipples=1),this.updateBox(),this.prepareNipples(),this.bindings(),this.begin(),this.nipples}_.prototype=new O,_.constructor=_,_.id=0,_.prototype.prepareNipples=function(){var t=this.nipples;t.on=this.on.bind(this),t.off=this.off.bind(this),t.options=this.options,t.destroy=this.destroy.bind(this),t.ids=this.ids,t.id=this.id,t.processOnMove=this.processOnMove.bind(this),t.processOnEnd=this.processOnEnd.bind(this),t.get=function(e){if(void 0===e)return t[0];for(var i=0,n=t.length;i<n;i+=1)if(t[i].identifier===e)return t[i];return!1}},_.prototype.bindings=function(){this.bindEvt(this.options.zone,"start"),this.options.zone.style.touchAction="none",this.options.zone.style.msTouchAction="none"},_.prototype.begin=function(){var t=this.options;if("static"===t.mode){var e=this.createNipple(t.position,this.manager.getIdentifier());e.add(),this.idles.push(e)}},_.prototype.createNipple=function(t,e){var i=u(),n={},r=this.options;if(t.x&&t.y)n={x:t.x-(i.x+this.box.left),y:t.y-(i.y+this.box.top)};else if(t.top||t.right||t.bottom||t.left){var o=document.createElement("DIV");o.style.display="hidden",o.style.top=t.top,o.style.right=t.right,o.style.bottom=t.bottom,o.style.left=t.left,o.style.position="absolute",r.zone.appendChild(o);var s=o.getBoundingClientRect();r.zone.removeChild(o),n=t,t={x:s.left+i.x,y:s.top+i.y}}var a=new S(this,{color:r.color,size:r.size,threshold:r.threshold,fadeTime:r.fadeTime,dataOnly:r.dataOnly,restJoystick:r.restJoystick,restOpacity:r.restOpacity,mode:r.mode,identifier:e,position:t,zone:r.zone,frontPosition:{x:0,y:0}});return r.dataOnly||(l(a.ui.el,n),l(a.ui.front,a.frontPosition)),this.nipples.push(a),this.trigger("added "+a.identifier+":added",a),this.manager.trigger("added "+a.identifier+":added",a),this.bindNipple(a),a},_.prototype.updateBox=function(){this.box=this.options.zone.getBoundingClientRect()},_.prototype.bindNipple=function(t){var e,i=this,n=function(t,n){e=t.type+" "+n.id+":"+t.type,i.trigger(e,n)};t.on("destroyed",i.onDestroyed.bind(i)),t.on("shown hidden rested dir plain",n),t.on("dir:up dir:right dir:down dir:left",n),t.on("plain:up plain:right plain:down plain:left",n)},_.prototype.pressureFn=function(t,e,i){var n=this,r=0;clearInterval(n.pressureIntervals[i]),n.pressureIntervals[i]=setInterval(function(){var i=t.force||t.pressure||t.webkitForce||0;i!==r&&(e.trigger("pressure",i),n.trigger("pressure "+e.identifier+":pressure",i),r=i)}.bind(n),100)},_.prototype.onstart=function(t){var e=this,i=e.options,n=t;return t=c(t),e.updateBox(),h(t,function(r){e.actives.length<i.maxNumberOfNipples?e.processOnStart(r):n.type.match(/^touch/)&&(Object.keys(e.manager.ids).forEach(function(i){if(Object.values(n.touches).findIndex(function(t){return t.identifier===i})<0){var r=[t[0]];r.identifier=i,e.processOnEnd(r)}}),e.actives.length<i.maxNumberOfNipples&&e.processOnStart(r))}),e.manager.bindDocument(),!1},_.prototype.processOnStart=function(t){var e,i=this,n=i.options,o=i.manager.getIdentifier(t),s=t.force||t.pressure||t.webkitForce||0,a={x:t.pageX,y:t.pageY},c=i.getOrCreate(o,a);c.identifier!==o&&i.manager.removeIdentifier(c.identifier),c.identifier=o;var u=function(e){e.trigger("start",e),i.trigger("start "+e.id+":start",e),e.show(),s>0&&i.pressureFn(t,e,e.identifier),i.processOnMove(t)};if((e=i.idles.indexOf(c))>=0&&i.idles.splice(e,1),i.actives.push(c),i.ids.push(c.identifier),"semi"!==n.mode)u(c);else{if(!(r(a,c.position)<=n.catchDistance))return c.destroy(),void i.processOnStart(t);u(c)}return c},_.prototype.getOrCreate=function(t,e){var i,n=this.options;return/(semi|static)/.test(n.mode)?(i=this.idles[0])?(this.idles.splice(0,1),i):"semi"===n.mode?this.createNipple(e,t):(console.warn("Coudln't find the needed nipple."),!1):i=this.createNipple(e,t)},_.prototype.processOnMove=function(t){var e=this.options,i=this.manager.getIdentifier(t),n=this.nipples.get(i);if(function(t){return isNaN(t.buttons)?0!==t.pressure:0!==t.buttons}(t)){if(!n)return console.error("Found zombie joystick with ID "+i),void this.manager.removeIdentifier(i);n.identifier=i;var s=n.options.size/2,a={x:t.pageX,y:t.pageY};e.lockX&&(a.y=n.position.y),e.lockY&&(a.x=n.position.x);var c,u,p,d,f,h,y,m,g=r(a,n.position),v=(c=a,p=(u=n.position).x-c.x,d=u.y-c.y,function(t){return t*(180/Math.PI)}(Math.atan2(d,p))),b=o(v),w=g/s,O={distance:g,position:a};g>s&&(g=s,f=n.position,h=g,m={x:0,y:0},y=o(y=v),m.x=f.x-h*Math.cos(y),m.y=f.y-h*Math.sin(y),a=m);var x=a.x-n.position.x,S=a.y-n.position.y;n.frontPosition={x:x,y:S},e.dataOnly||l(n.ui.front,n.frontPosition);var _={identifier:n.identifier,position:a,force:w,pressure:t.force||t.pressure||t.webkitForce||0,distance:g,angle:{radian:b,degree:v},raw:O,instance:n,lockX:e.lockX,lockY:e.lockY};(_=n.computeDirection(_)).angle={radian:o(180-v),degree:180-v},n.trigger("move",_),this.trigger("move "+n.id+":move",_)}else this.processOnEnd(t)},_.prototype.processOnEnd=function(t){var e=this,i=e.options,n=e.manager.getIdentifier(t),r=e.nipples.get(n),o=e.manager.removeIdentifier(r.identifier);r&&(i.dataOnly||r.hide(function(){"dynamic"===i.mode&&(r.trigger("removed",r),e.trigger("removed "+r.id+":removed",r),e.manager.trigger("removed "+r.id+":removed",r),r.destroy())}),clearInterval(e.pressureIntervals[r.identifier]),r.resetDirection(),r.trigger("end",r),e.trigger("end "+r.id+":end",r),e.ids.indexOf(r.identifier)>=0&&e.ids.splice(e.ids.indexOf(r.identifier),1),e.actives.indexOf(r)>=0&&e.actives.splice(e.actives.indexOf(r),1),/(semi|static)/.test(i.mode)?e.idles.push(r):e.nipples.indexOf(r)>=0&&e.nipples.splice(e.nipples.indexOf(r),1),e.manager.unbindDocument(),/(semi|static)/.test(i.mode)&&(e.manager.ids[o.id]=o.identifier))},_.prototype.onDestroyed=function(t,e){this.nipples.indexOf(e)>=0&&this.nipples.splice(this.nipples.indexOf(e),1),this.actives.indexOf(e)>=0&&this.actives.splice(this.actives.indexOf(e),1),this.idles.indexOf(e)>=0&&this.idles.splice(this.idles.indexOf(e),1),this.ids.indexOf(e.identifier)>=0&&this.ids.splice(this.ids.indexOf(e.identifier),1),this.manager.removeIdentifier(e.identifier),this.manager.unbindDocument()},_.prototype.destroy=function(){for(var t in this.unbindEvt(this.options.zone,"start"),this.nipples.forEach(function(t){t.destroy()}),this.pressureIntervals)this.pressureIntervals.hasOwnProperty(t)&&clearInterval(this.pressureIntervals[t]);this.trigger("destroyed",this.nipples),this.manager.unbindDocument(),this.off()};var j=_;function k(t){var e,i=this;return i.ids={},i.index=0,i.collections=[],i.config(t),i.prepareCollections(),s(window,"resize",function(t){clearTimeout(e),e=setTimeout(function(){var t,e=u();i.collections.forEach(function(i){i.forEach(function(i){t=i.el.getBoundingClientRect(),i.position={x:e.x+t.left,y:e.y+t.top}})})},100)}),i.collections}k.prototype=new O,k.constructor=k,k.prototype.prepareCollections=function(){var t=this;t.collections.create=t.create.bind(t),t.collections.on=t.on.bind(t),t.collections.off=t.off.bind(t),t.collections.destroy=t.destroy.bind(t),t.collections.get=function(e){var i;return t.collections.every(function(t){return!(i=t.get(e))}),i}},k.prototype.create=function(t){return this.createCollection(t)},k.prototype.createCollection=function(t){var e=new j(this,t);return this.bindCollection(e),this.collections.push(e),e},k.prototype.bindCollection=function(t){var e,i=this,n=function(t,n){e=t.type+" "+n.id+":"+t.type,i.trigger(e,n)};t.on("destroyed",i.onDestroyed.bind(i)),t.on("shown hidden rested dir plain",n),t.on("dir:up dir:right dir:down dir:left",n),t.on("plain:up plain:right plain:down plain:left",n)},k.prototype.bindDocument=function(){this.binded||(this.bindEvt(document,"move").bindEvt(document,"end"),this.binded=!0)},k.prototype.unbindDocument=function(t){Object.keys(this.ids).length&&!0!==t||(this.unbindEvt(document,"move").unbindEvt(document,"end"),this.binded=!1)},k.prototype.getIdentifier=function(t){var e;return t?void 0===(e=void 0===t.identifier?t.pointerId:t.identifier)&&(e=this.latest||0):e=this.index,void 0===this.ids[e]&&(this.ids[e]=this.index,this.index+=1),this.latest=e,this.ids[e]},k.prototype.removeIdentifier=function(t){var e={};for(var i in this.ids)if(this.ids[i]===t){e.id=i,e.identifier=this.ids[i],delete this.ids[i];break}return e},k.prototype.onmove=function(t){return this.onAny("move",t),!1},k.prototype.onend=function(t){return this.onAny("end",t),!1},k.prototype.oncancel=function(t){return this.onAny("end",t),!1},k.prototype.onAny=function(t,e){var i,n=this,r="processOn"+t.charAt(0).toUpperCase()+t.slice(1);return e=c(e),h(e,function(t){i=n.getIdentifier(t),h(n.collections,function(t,e,i){i.ids.indexOf(e)>=0&&(i[r](t),t._found_=!0)}.bind(null,t,i)),t._found_||n.removeIdentifier(i)}),!1},k.prototype.destroy=function(){this.unbindDocument(!0),this.ids={},this.index=0,this.collections.forEach(function(t){t.destroy()}),this.off()},k.prototype.onDestroyed=function(t,e){if(this.collections.indexOf(e)<0)return!1;this.collections.splice(this.collections.indexOf(e),1)};var A=new k;e.default={create:function(t){return A.create(t)},factory:A}}]).default},function(t,e,i){"use strict";var n;if(!Object.keys){var r=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=i(4),a=Object.prototype.propertyIsEnumerable,c=!a.call({toString:null},"toString"),u=a.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(t){var e=t.constructor;return e&&e.prototype===t},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!d["$"+t]&&r.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{p(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();n=function(t){var e=null!==t&&"object"==typeof t,i="[object Function]"===o.call(t),n=s(t),a=e&&"[object String]"===o.call(t),d=[];if(!e&&!i&&!n)throw new TypeError("Object.keys called on a non-object");var h=u&&i;if(a&&t.length>0&&!r.call(t,0))for(var y=0;y<t.length;++y)d.push(String(y));if(n&&t.length>0)for(var m=0;m<t.length;++m)d.push(String(m));else for(var g in t)h&&"prototype"===g||!r.call(t,g)||d.push(String(g));if(c)for(var v=function(t){if("undefined"==typeof window||!f)return p(t);try{return p(t)}catch(t){return!1}}(t),b=0;b<l.length;++b)v&&"constructor"===l[b]||!r.call(t,l[b])||d.push(l[b]);return d}}t.exports=n},function(t,e,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,r=Object.prototype.toString,o=function(t){return!(n&&t&&"object"==typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===r.call(t)},s=function(t){return!!o(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==r.call(t)&&"[object Function]"===r.call(t.callee)},a=function(){return o(arguments)}();o.isLegacyArguments=s,t.exports=a?o:s},function(t,e,i){"use strict";var n=function(t){return t!=t};t.exports=function(t,e){return 0===t&&0===e?1/t==1/e:t===e||!(!n(t)||!n(e))}},function(t,e,i){"use strict";var n=i(15),r=RegExp.prototype.exec,o=Object.getOwnPropertyDescriptor,s=Object.prototype.toString,a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function(t){if(!t||"object"!=typeof t)return!1;if(!a)return"[object RegExp]"===s.call(t);var e=o(t,"lastIndex");return!(!e||!n(e,"value"))&&function(t){try{var e=t.lastIndex;return t.lastIndex=0,r.call(t),!0}catch(t){return!1}finally{t.lastIndex=e}}(t)}},function(t,e,i){"use strict";var n=i(16);t.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},function(t,e,i){"use strict";var n=i(17);t.exports=Function.prototype.bind||n},function(t,e,i){"use strict";var n="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,o=Object.prototype.toString;t.exports=function(t){var e=this;if("function"!=typeof e||"[object Function]"!==o.call(e))throw new TypeError(n+e);for(var i,s=r.call(arguments,1),a=function(){if(this instanceof i){var n=e.apply(this,s.concat(r.call(arguments)));return Object(n)===n?n:this}return e.apply(t,s.concat(r.call(arguments)))},c=Math.max(0,e.length-s.length),u=[],l=0;l<c;l++)u.push("$"+l);if(i=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(a),e.prototype){var p=function(){};p.prototype=e.prototype,i.prototype=new p,p.prototype=null}return i}},function(t,e,i){"use strict";var n=i(2),r=i(5),o=i(6),s=i(19),a=Function.call.bind(r);n(a,{getPolyfill:o,implementation:r,shim:s}),t.exports=a},function(t,e,i){"use strict";var n=i(2).supportsDescriptors,r=i(6),o=Object.getOwnPropertyDescriptor,s=Object.defineProperty,a=TypeError,c=Object.getPrototypeOf,u=/a/;t.exports=function(){if(!n||!c)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=r(),e=c(u),i=o(e,"flags");return i&&i.get===t||s(e,"flags",{configurable:!0,enumerable:!1,get:t}),t}},function(t,e,i){"use strict";var n=Date.prototype.getDay,r=Object.prototype.toString,o="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function(t){return"object"==typeof t&&null!==t&&(o?function(t){try{return n.call(t),!0}catch(t){return!1}}(t):"[object Date]"===r.call(t))}},function(t,e,i){var n=i(1),r=n.slice,o=n.pluck,s=n.each,a=n.bind,c=n.create,u=n.isList,l=n.isFunction,p=n.isObject;t.exports={createStore:f};var d={version:"2.0.12",enabled:!1,get:function(t,e){var i=this.storage.read(this._namespacePrefix+t);return this._deserialize(i,e)},set:function(t,e){return void 0===e?this.remove(t):(this.storage.write(this._namespacePrefix+t,this._serialize(e)),e)},remove:function(t){this.storage.remove(this._namespacePrefix+t)},each:function(t){var e=this;this.storage.each(function(i,n){t.call(e,e._deserialize(i),(n||"").replace(e._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(t){return this._namespacePrefix=="__storejs_"+t+"_"},createStore:function(){return f.apply(this,arguments)},addPlugin:function(t){this._addPlugin(t)},namespace:function(t){return f(this.storage,this.plugins,t)}};function f(t,e,i){i||(i=""),t&&!u(t)&&(t=[t]),e&&!u(e)&&(e=[e]);var n=i?"__storejs_"+i+"_":"",f=i?new RegExp("^"+n):null;if(!/^[a-zA-Z0-9_\-]*$/.test(i))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var h=c({_namespacePrefix:n,_namespaceRegexp:f,_testStorage:function(t){try{var e="__storejs__test__";t.write(e,e);var i=t.read(e)===e;return t.remove(e),i}catch(t){return!1}},_assignPluginFnProp:function(t,e){var i=this[e];this[e]=function(){var e=r(arguments,0),n=this;function o(){if(i)return s(arguments,function(t,i){e[i]=t}),i.apply(n,e)}var a=[o].concat(e);return t.apply(n,a)}},_serialize:function(t){return JSON.stringify(t)},_deserialize:function(t,e){if(!t)return e;var i="";try{i=JSON.parse(t)}catch(e){i=t}return void 0!==i?i:e},_addStorage:function(t){this.enabled||this._testStorage(t)&&(this.storage=t,this.enabled=!0)},_addPlugin:function(t){var e=this;if(u(t))s(t,function(t){e._addPlugin(t)});else if(!o(this.plugins,function(e){return t===e})){if(this.plugins.push(t),!l(t))throw new Error("Plugins must be function values that return objects");var i=t.call(this);if(!p(i))throw new Error("Plugins must return an object of function properties");s(i,function(i,n){if(!l(i))throw new Error("Bad plugin property: "+n+" from plugin "+t.name+". Plugins should only return functions.");e._assignPluginFnProp(i,n)})}},addStorage:function(t){!function(){var t="undefined"==typeof console?null:console;t&&(t.warn?t.warn:t.log).apply(t,arguments)}("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(t)}},d,{plugins:[]});return h.raw={},s(h,function(t,e){l(t)&&(h.raw[e]=a(h,t))}),s(t,function(t){h._addStorage(t)}),s(e,function(t){h._addPlugin(t)}),h}},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){var n=i(1).Global;function r(){return n.localStorage}function o(t){return r().getItem(t)}t.exports={name:"localStorage",read:o,write:function(t,e){return r().setItem(t,e)},each:function(t){for(var e=r().length-1;e>=0;e--){var i=r().key(e);t(o(i),i)}},remove:function(t){return r().removeItem(t)},clearAll:function(){return r().clear()}}},function(t,e,i){var n=i(1).Global;function r(){return n.sessionStorage}function o(t){return r().getItem(t)}t.exports={name:"sessionStorage",read:o,write:function(t,e){return r().setItem(t,e)},each:function(t){for(var e=r().length-1;e>=0;e--){var i=r().key(e);t(o(i),i)}},remove:function(t){return r().removeItem(t)},clearAll:function(){return r().clear()}}},function(t,e,i){var n=i(1),r=n.Global,o=n.trim;t.exports={name:"cookieStorage",read:function(t){if(!t||!u(t))return null;var e="(?:^|.*;\\s*)"+escape(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(s.cookie.replace(new RegExp(e),"$1"))},write:function(t,e){if(!t)return;s.cookie=escape(t)+"="+escape(e)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/"},each:a,remove:c,clearAll:function(){a(function(t,e){c(e)})}};var s=r.document;function a(t){for(var e=s.cookie.split(/; ?/g),i=e.length-1;i>=0;i--)if(o(e[i])){var n=e[i].split("="),r=unescape(n[0]);t(unescape(n[1]),r)}}function c(t){t&&u(t)&&(s.cookie=escape(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function u(t){return new RegExp("(?:^|;\\s*)"+escape(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(s.cookie)}},function(t,e){t.exports={name:"memoryStorage",read:function(t){return i[t]},write:function(t,e){i[t]=e},each:function(t){for(var e in i)i.hasOwnProperty(e)&&t(i[e],e)},remove:function(t){delete i[t]},clearAll:function(t){i={}}};var i={}},,,function(t,e,i){"use strict";i.r(e);var n,r=function(){function t(t){this._dom=t,this.setScrollEvent()}return Object.defineProperty(t.prototype,"scrollLeft",{get:function(){return this._dom.scrollLeft},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dom",{get:function(){return this._dom},enumerable:!0,configurable:!0}),t.prototype.scrollToLeft=function(t,e){this.scrollTo(this._dom.scrollLeft+t,e)},t.prototype.scrollTo=function(t,e){this._dom.scrollTo?this._dom.scrollTo({left:t,behavior:e?"smooth":"auto"}):this._dom.scrollLeft=t},t.prototype.setScrollEvent=function(){var t=this;this._dom.addEventListener("wheel",function(e){0==e.deltaX&&(e.stopPropagation(),e.preventDefault(),t.scrollToLeft(-1*e.deltaY,!1))},{passive:!1})},t}(),o="carotin_novel",s=i(7),a=i.n(s),c=i(8),u=i.n(c),l=i(0),p=i.n(l),d=i(9),f=i.n(d);p.a.addPlugin(f.a);var h=((n={})[o]={version:"0.0.1",config:{update:(new Date).getTime()},works:{}},n),y=new(function(){function t(){this.emptyInStorage=!1,this.saveQueueId=-1,this.cache=this.load()}return t.prototype.getWork=function(t){return Object.hasOwnProperty.call(this.cache.works,t)?this.cache.works[t]:null},t.prototype.update=function(t){var e=u()(this.cache,t);a()(this.cache,e)||this.save(e)},t.prototype.save=function(t){var e=this;this.cache=t,window.clearTimeout(this.saveQueueId),this.saveQueueId=window.setTimeout(function(){p.a.set(o,e.cache)},100)},t.prototype.load=function(){var t=p.a.get(o);return t||(this.emptyInStorage=!0,p.a.defaults(h),t=p.a.get(o)),t},t}()),m=function(){function t(t){this.articleId="",this.animationId=-1,this.saveQueueId=-1,this.prevState=null,this.wrapper=t,this.articleId=this.getArticleId(t.dom)}return t.prototype.start=function(){var t=this;window.cancelAnimationFrame(this.animationId);var e=function(){t.autoSave(),t.animationId=window.requestAnimationFrame(e)};this.animationId=window.requestAnimationFrame(e)},t.prototype.autoSave=function(){this.save(!0)},t.prototype.bookmark=function(){this.save(!1)},t.prototype.restore=function(){var t=y.getWork(this.articleId);return null!=t?this.doRestore(t):new Promise(function(t){t()})},t.prototype.doRestore=function(t){var e=this;return new Promise(function(i,n){var r=t.autosave||t.bookmark;r?e.moveToBookmark(r).then(i).catch(n):i()})},t.prototype.moveToBookmark=function(t){for(var e=this,i=Array.from(this.wrapper.dom.querySelectorAll("div.page")),n=null,r=0;r<i.length;r++)if(i[r].getAttribute("data-page-id")==t.page){n=i[r];break}if(!n)return new Promise(function(t,e){e(new Error("Page not found."))});var o=Math.round(n.scrollWidth*t.scrolldepth);return new Promise(function(t){n&&(n.scrollIntoView(),n.offsetLeft),setTimeout(function(){e.wrapper.scrollToLeft(-1*o,!1),t()},300)})},t.prototype.getArticleId=function(t){var e=t.getAttribute("data-article-id");return e||location.pathname},t.prototype.save=function(t){var e,i=this.getState();if(null!=i.page&&null!=i.scrolldepth)if(null!=this.prevState){if(!this.isSame(this.prevState,i)){this.prevState=i;var n={works:(e={},e[this.articleId]={autosave:{},bookmark:{}},e)};t?n.works[this.articleId].autosave=i:n.works[this.articleId].bookmark=i,window.clearTimeout(this.saveQueueId),this.saveQueueId=window.setTimeout(function(){y.update(n)},500)}}else this.prevState=i},t.prototype.isSame=function(t,e){return t.page==e.page&&t.scrolldepth==e.scrolldepth},t.prototype.getRightTopElement=function(){for(var t=document.elementFromPoint(window.innerWidth-1,0);t&&t.parentElement;){if("div"==t.tagName.toLowerCase()&&t.classList.contains("page"))return t;t=t.parentElement}return null},t.prototype.getState=function(){var t={page:"",scrolldepth:0,update:(new Date).getTime()},e=this.getRightTopElement();if(e){t.page=e.getAttribute("data-page-id")||"";var i=e.getBoundingClientRect().right-window.innerWidth;t.scrolldepth=i/e.scrollWidth}return t},t}(),g=document.createElementNS("http://www.w3.org/2000/svg","svg");g.setAttribute("width","44"),g.setAttribute("height","44"),g.setAttribute("viewBox","0 0 44 44"),g.setAttribute("xmlns","http://www.w3.org/2000/svg");var v=document.createElementNS("http://www.w3.org/2000/svg","g");v.setAttribute("fill","none"),v.setAttribute("fill-rule","evenodd"),v.setAttribute("stroke-width","2");var b=document.createElementNS("http://www.w3.org/2000/svg","circle");b.setAttribute("cx","22"),b.setAttribute("cy","22"),b.setAttribute("r","1.0");var w=document.createElementNS("http://www.w3.org/2000/svg","animate");w.setAttribute("attributeName","r"),w.setAttribute("begin","0s"),w.setAttribute("dur","1.8s"),w.setAttribute("values","1; 20"),w.setAttribute("calcMode","spline"),w.setAttribute("keyTimes","0; 1"),w.setAttribute("keySplines","0.165, 0.84, 0.44, 1"),w.setAttribute("repeatCount","indefinite");var O=document.createElementNS("http://www.w3.org/2000/svg","animate");O.setAttribute("attributeName","stroke-opacity"),O.setAttribute("begin","0s"),O.setAttribute("dur","1.8s"),O.setAttribute("values","1; 0"),O.setAttribute("calcMode","spline"),O.setAttribute("keyTimes","0; 1"),O.setAttribute("keySplines","0.3, 0.61, 0.355, 1"),O.setAttribute("repeatCount","indefinite"),b.appendChild(w),b.appendChild(O);var x=document.createElementNS("http://www.w3.org/2000/svg","circle");x.setAttribute("cx","22"),x.setAttribute("cy","22"),x.setAttribute("r","1.0");var S=document.createElementNS("http://www.w3.org/2000/svg","animate");S.setAttribute("attributeName","r"),S.setAttribute("begin","-0.9s"),S.setAttribute("dur","1.8s"),S.setAttribute("values","1; 20"),S.setAttribute("calcMode","spline"),S.setAttribute("keyTimes","0; 1"),S.setAttribute("keySplines","0.165, 0.84, 0.44, 1"),S.setAttribute("repeatCount","indefinite");var _=document.createElementNS("http://www.w3.org/2000/svg","animate");_.setAttribute("attributeName","stroke-opacity"),_.setAttribute("begin","-0.9s"),_.setAttribute("dur","1.8s"),_.setAttribute("values","1; 0"),_.setAttribute("calcMode","spline"),_.setAttribute("keyTimes","0; 1"),_.setAttribute("keySplines","0.3, 0.61, 0.355, 1"),_.setAttribute("repeatCount","indefinite"),x.appendChild(S),x.appendChild(_),v.appendChild(b),v.appendChild(x),g.appendChild(v);var j=function(){function t(t){this.wrapper=t,this.svgelements={circle:g}}return t.prototype.set=function(t){var e=this;this.wrapper.querySelectorAll("svg").forEach(function(t){e.wrapper.removeChild(t)}),this.wrapper.appendChild(this.svgelements[t])},t.prototype.show=function(){this.wrapper.classList.remove("off")},t.prototype.hide=function(){this.wrapper.classList.contains("off")||this.wrapper.classList.add("off")},t}(),k=function(){function t(t){this.animationId=-1,this.previousSpeed=0,this.speed=0,this.scrollStartPos=0,this.scrollStartDt=-1,this.wrapper=t}return t.prototype.start=function(){var t=this;window.cancelAnimationFrame(this.animationId),this.scrollStartPos=this.wrapper.scrollLeft,this.scrollStartDt=(new Date).getTime();var e=function(){t.draw(),t.animationId=window.requestAnimationFrame(e)};this.animationId=window.requestAnimationFrame(e)},t.prototype.stop=function(){window.cancelAnimationFrame(this.animationId),this.animationId=-1,this.resetSpeed(),this.scrollStartPos=0,this.scrollStartDt=-1},t.prototype.setSpeed=function(t,e){if(t&&t.direction&&t.distance){var i="up"==t.direction.y?1:-1,n=t.distance/e,r=Math.pow(n,2)*i;this.previousSpeed!=r&&(this.previousSpeed=this.speed,this.speed=r,this.start())}else this.resetSpeed()},t.prototype.resetSpeed=function(){this.previousSpeed=0,this.speed=0},t.prototype.draw=function(){if(!(this.scrollStartDt<0)){var t=(new Date).getTime()-this.scrollStartDt,e=this.scrollStartPos+this.speed*t;this.wrapper.scrollTo(e,!1)}},t}(),A=i(10),P=i.n(A),E=function(){function t(t,e){this.joystickManager=null,this.size="middle",this.slidePadArea=t,this.scrollManager=new k(e)}return t.prototype.changeSize=function(t){this.size!=t&&(this.hide(),document.documentElement.setAttribute("data-slide-pad-size",t),this.show())},t.prototype.show=function(){this.joystickManager||this.add(this.slidePadArea.scrollWidth),this.slidePadArea.classList.remove("hidden")},t.prototype.hide=function(){this.joystickManager&&(this.joystickManager.destroy(),this.joystickManager=null),this.slidePadArea.classList.add("hidden")},t.prototype.add=function(t){var e=this;this.joystickManager=P.a.create({zone:this.slidePadArea,color:"white",size:2*t,position:{left:"50%",top:"50%"},mode:"static",lockY:!0,restOpacity:.8}),this.joystickManager.on("move",function(i,n){e.scrollManager.setSpeed(n,t)}),this.joystickManager.on("start",function(){e.scrollManager.start()}),this.joystickManager.on("end",function(){e.scrollManager.stop()})},t}();window.addEventListener("DOMContentLoaded",function(){var t=document.querySelector("body"),e=document.querySelector("div.content_wrapper"),i=document.querySelector("div.loader");if(t&&e&&i){var n=new r(e),o=new j(i);o.set("circle"),o.show(),function(t){var e=/^\s*$/;t.querySelectorAll("ruby").forEach(function(t){t.childNodes.forEach(function(i){i.nodeType==Node.TEXT_NODE&&i.nodeValue&&e.test(i.nodeValue)&&t.removeChild(i)})})}(n.dom),function(t){var e=(new UAParser).getResult();e&&e.browser&&e.device&&e.browser.name&&"chrome"==e.browser.name.toLowerCase()&&"mobile"!=e.device.type&&t.classList.add("custom_ruby")}(t);var s=document.querySelector("div.slidepad"),a=null;s&&((a=new E(s,n)).changeSize("middle"),a.show());var c=new m(n);c.restore().then(function(){c.start(),o.hide()}).catch(function(t){console.log(t),c.start(),o.hide()})}})}]);